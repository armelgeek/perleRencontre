{% extends "base.html.twig" %}
{% block title %}{% endblock %}
{% block stylesheets %}{% endblock %}
{% block body %}

<div id="parent-div">
   {# <form hx-post="{{path('postData')}}"    hx-swap="outerHTML"  hx-push-url="true"   hx-target="this"  _="on error.htmx(errorInfo) add errorInfo to .messages">
        <div class="messages"></div>
            <div>
                <label>Username</label>
                <input type="text" name="username" data-parsley-minlength="20" data-parsley-maxlength="100" />
            </div>
    
            <div>
                <label>Password</label>
                <input type="password" name="password" />
            </div>
        </div>
        <button type="submit">Modifier</button>
    </form>
</div>#}
<form id="form1" novalidate method="post"  hx-post="{{path('postData')}}"  hx-swap="outerHTML"  hx-push-url="true"   hx-target="this">
      
       <div class="form-group">
           <label>Hello</label>
           <input type="text" name="hello" required data-pristine-required-message="My custom message"/>
       </div>
       <div class="form-group">
           <input type="submit" value="Submit" class="btn-go"/>
       </div>
    </form>
 </div>
 
 
{% endblock %}
{% block javascripts %}
<script>
var pristine;
let defaultConfig = {
    // class of the parent element where the error/success class is added
    classTo: 'form-group',
    errorClass: 'has-danger',
    successClass: 'has-success',
    // class of the parent element where error text element is appended
    errorTextParent: 'form-group',
    // type of element to create for the error text
    errorTextTag: 'div',
    // class of the error text element
    errorTextClass: 'text-help' 
};

   var form = document.getElementById("form1");

   pristine = new Pristine(form,defaultConfig,true);
   form.addEventListener('submit', function (e)
   {
    e.preventDefault();
    var valid = pristine.validate();
      if(!valid){
        return false;
      }
});
</script>
{% endblock %}